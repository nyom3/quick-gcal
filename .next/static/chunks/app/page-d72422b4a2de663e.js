(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2695:(e,t,r)=>{Promise.resolve().then(r.bind(r,3605))},3605:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var i=r(5155),n=r(2115),a=r(4624),s=r(2085),o=r(2596),l=r(9688);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,o.$)(t))}let c=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:o=!1,...l}=e,u=o?a.DX:"button";return(0,i.jsx)(u,{className:d(c({variant:n,size:s,className:r})),ref:t,...l})});u.displayName="Button";let f=n.forwardRef((e,t)=>{let{className:r,type:n,...a}=e;return(0,i.jsx)("input",{type:n,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});f.displayName="Input";var g=r(7073);let m=(0,s.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)(g.b,{ref:t,className:d(m(),r),...n})});h.displayName=g.b.displayName;var v=r(3464);async function p(e){let t="https://hook.us2.make.com/rdld5jevhcjgp2alr8cfzluh5d5p85lz";if(!t)throw Error("NEXT_PUBLIC_MAKE_CREATE_WEBHOOK_URL is not defined");return(await v.A.post(t,{title:e.title,start:e.start,end:e.end,location:e.location})).data}var b=r(6671);function x(){let e=new Date,t=new Date(e.getTime()+18e5),r=new Date(e.getTime()+36e5),a=e=>e.toISOString().split("T")[0],s=e=>e.toTimeString().split(" ")[0].substring(0,5),[o,l]=(0,n.useState)(""),[d,c]=(0,n.useState)(a(e)),[g,m]=(0,n.useState)(s(t)),[v,x]=(0,n.useState)(s(r)),[y,j]=(0,n.useState)(""),w=async n=>{n.preventDefault();let u="".concat(d,"T").concat(g),f="".concat(d,"T").concat(v);try{var h;let n=await p({title:o,start:u,end:f,location:y}),d=null;Array.isArray(n)&&n.length>0&&(null==(h=n[0])?void 0:h.htmlLink)&&(d=n[0].htmlLink),d?b.o.success((0,i.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"underline",children:"✅ 予定を登録しました (リンク)"})):b.o.success("✅ 予定を登録しました"),l(""),c(a(e)),m(s(t)),x(s(r)),j("")}catch(e){console.error("Failed to create event:",e),b.o.error("❌ 予定の登録に失敗しました")}};return(0,i.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(h,{htmlFor:"title",children:"Title"}),(0,i.jsx)(f,{id:"title",type:"text",value:o,onChange:e=>l(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(h,{htmlFor:"date",children:"Date"}),(0,i.jsx)(f,{id:"date",type:"date",value:d,onChange:e=>c(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"sm:col-span-2 grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(h,{htmlFor:"startTime",children:"Start Time"}),(0,i.jsx)(f,{id:"startTime",type:"time",value:g,onChange:e=>m(e.target.value),required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h,{htmlFor:"endTime",children:"End Time"}),(0,i.jsx)(f,{id:"endTime",type:"time",value:v,onChange:e=>x(e.target.value),required:!0})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h,{htmlFor:"location",children:"Location (optional)"}),(0,i.jsx)(f,{id:"location",type:"text",value:y,onChange:e=>j(e.target.value)})]}),(0,i.jsx)(u,{type:"submit",className:"w-full",children:"Add Event"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[671,708,441,684,358],()=>t(2695)),_N_E=e.O()}]);